= Delectus 2 Sync
:toc:

== How sync works

The basic procedure for merging two copies of a Delectus list is:

. We'll call the copies of the list *list A* and *list B*.
. Dump the op log of each copy to an *op list*. We'll call these *op list A* and *op list B*.
. Merge the two op lists into a single one; we'll call this list the *merge*.
. Make two copies of the merge, *merge A* and *merge B*. Remove from merge A all the ops that are in op list A; remove from merge B all the ops that are in op list B. Merge A now contains all ops from B that are not in A; merge B now contains all ops from A that are not in B.
. Insert the ops from merge A into list A. Insert the ops from merge B into list B.
. List A and list B are now the same.
